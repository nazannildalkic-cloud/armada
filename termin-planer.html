<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminplaner | Armada Eventsaal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .planer-wrap { max-width: 900px; margin: 0 auto; padding: 40px 20px; }
        .planer-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; margin-bottom: 40px; }
        .planer-header h1 { font-family: 'Playfair Display', serif; color: var(--gold-dark); font-size: 2rem; }
        .planer-header a { color: var(--gold-dark); text-decoration: none; font-weight: 600; }
        .planer-header a:hover { color: var(--gold); }
        .planer-form { background: var(--champagne); padding: 30px; border-radius: 12px; margin-bottom: 40px; border: 1px solid rgba(197,160,89,0.2); }
        .planer-form h2 { font-size: 1.25rem; margin-bottom: 20px; color: var(--black); }
        .form-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px; margin-bottom: 16px; }
        .form-row label { display: block; font-size: 0.85rem; font-weight: 600; margin-bottom: 4px; color: var(--black); }
        .planer-form input, .planer-form select, .planer-form textarea { width: 100%; padding: 12px; border: 1px solid rgba(142,109,59,0.3); border-radius: 8px; font-family: inherit; font-size: 1rem; }
        .planer-form textarea { min-height: 80px; resize: vertical; }
        .planer-form button { margin-top: 10px; padding: 14px 28px; background: var(--gold-dark); color: white; border: none; border-radius: 8px; font-weight: 700; cursor: pointer; }
        .planer-form button:hover { background: var(--gold); }
        .termine-list { margin-top: 20px; }
        .termine-list h2 { font-size: 1.25rem; margin-bottom: 16px; color: var(--black); }
        .termin-card { background: white; border: 1px solid rgba(197,160,89,0.25); border-radius: 10px; padding: 20px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 12px; }
        .termin-card.past { opacity: 0.75; border-color: #ccc; }
        .termin-info { flex: 1; min-width: 200px; }
        .termin-info strong { color: var(--gold-dark); }
        .termin-info p { margin: 4px 0; font-size: 0.95rem; }
        .termin-actions { display: flex; gap: 8px; }
        .termin-actions button { padding: 8px 14px; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem; background: #e0e0e0; color: #333; }
        .termin-actions button.delete:hover { background: #d32f2f; color: white; }
        .filter-bar { margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap; }
        .filter-bar button { padding: 10px 18px; border: 1px solid var(--gold); background: white; color: var(--gold-dark); border-radius: 8px; cursor: pointer; font-weight: 600; }
        .filter-bar button.active { background: var(--gold-dark); color: white; border-color: var(--gold-dark); }
        .empty-msg { text-align: center; padding: 40px 20px; color: #666; }
    </style>
</head>
<body>
    <div class="planer-wrap">
        <div class="planer-header">
            <h1><i class="fas fa-calendar-alt"></i> Terminplaner</h1>
            <a href="index.html"><i class="fas fa-arrow-left"></i> ZurÃ¼ck zur Website</a>
        </div>

        <section class="planer-form">
            <h2>Neuen Termin eintragen</h2>
            <form id="addTerminForm">
                <div class="form-row">
                    <div>
                        <label for="tp-datum">Datum *</label>
                        <input type="date" id="tp-datum" required>
                    </div>
                    <div>
                        <label for="tp-uhrzeit">Uhrzeit</label>
                        <input type="time" id="tp-uhrzeit" value="12:00">
                    </div>
                    <div>
                        <label for="tp-event">Event-Typ</label>
                        <select id="tp-event">
                            <option value="Hochzeit">Hochzeit</option>
                            <option value="Abiball">Abiball</option>
                            <option value="Firmenevent">Firmenevent</option>
                            <option value="Konferenz">Konferenz</option>
                            <option value="Sonstiges">Sonstiges</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div>
                        <label for="tp-name">Name (Kunde/Gast) *</label>
                        <input type="text" id="tp-name" placeholder="Name" required>
                    </div>
                    <div>
                        <label for="tp-phone">Telefon</label>
                        <input type="tel" id="tp-phone" placeholder="z. B. 0176 12345678">
                    </div>
                </div>
                <div class="form-row">
                    <div style=" grid-column: 1 / -1;">
                        <label for="tp-notes">Notizen</label>
                        <textarea id="tp-notes" placeholder="Optionale Notizen â€¦"></textarea>
                    </div>
                </div>
                <button type="submit"><i class="fas fa-plus"></i> Termin speichern</button>
            </form>
        </section>

        <section class="termine-list">
            <h2>Deine Termine</h2>
            <div class="filter-bar">
                <button type="button" class="filter-btn active" data-filter="all">Alle</button>
                <button type="button" class="filter-btn" data-filter="upcoming">KÃ¼nftige</button>
                <button type="button" class="filter-btn" data-filter="past">Vergangene</button>
            </div>
            <div id="termine-container"></div>
        </section>
    </div>

    <script>
        const STORAGE_KEY = 'armada_termine';

        function getTermine() {
            try {
                const raw = localStorage.getItem(STORAGE_KEY);
                return raw ? JSON.parse(raw) : [];
            } catch (e) { return []; }
        }

        function saveTermine(arr) {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(arr));
            renderTermine();
        }

        function addTermin(e) {
            e.preventDefault();
            const datum = document.getElementById('tp-datum').value;
            const uhrzeit = document.getElementById('tp-uhrzeit').value || '12:00';
            const eventTyp = document.getElementById('tp-event').value;
            const name = document.getElementById('tp-name').value.trim();
            const phone = document.getElementById('tp-phone').value.trim();
            const notes = document.getElementById('tp-notes').value.trim();
            if (!datum || !name) return;
            const termine = getTermine();
            termine.push({
                id: Date.now().toString(36) + Math.random().toString(36).slice(2),
                datum,
                uhrzeit,
                eventTyp,
                name,
                phone,
                notes,
                createdAt: new Date().toISOString()
            });
            termine.sort((a, b) => (a.datum + a.uhrzeit).localeCompare(b.datum + b.uhrzeit));
            saveTermine(termine);
            document.getElementById('addTerminForm').reset();
            document.getElementById('tp-uhrzeit').value = '12:00';
        }

        function deleteTermin(id) {
            if (!confirm('Termin wirklich lÃ¶schen?')) return;
            const termine = getTermine().filter(t => t.id !== id);
            saveTermine(termine);
        }

        function isPast(datum, uhrzeit) {
            const d = new Date(datum + 'T' + (uhrzeit || '23:59'));
            return d < new Date();
        }

        function formatDate(d) {
            const [y, m, day] = d.split('-');
            return `${day}.${m}.${y}`;
        }

        let currentFilter = 'all';

        function renderTermine() {
            const container = document.getElementById('termine-container');
            let termine = getTermine();
            if (currentFilter === 'upcoming') termine = termine.filter(t => !isPast(t.datum, t.uhrzeit));
            if (currentFilter === 'past') termine = termine.filter(t => isPast(t.datum, t.uhrzeit));
            termine.sort((a, b) => (a.datum + a.uhrzeit).localeCompare(b.datum + b.uhrzeit));
            if (currentFilter === 'past') termine.reverse();

            if (termine.length === 0) {
                container.innerHTML = '<p class="empty-msg">Noch keine Termine. Trage oben einen neuen Termin ein.</p>';
                return;
            }
            container.innerHTML = termine.map(t => {
                const past = isPast(t.datum, t.uhrzeit);
                return `
                    <div class="termin-card ${past ? 'past' : ''}" data-id="${t.id}">
                        <div class="termin-info">
                            <p><strong>${formatDate(t.datum)}</strong> ${t.uhrzeit || ''} Â· ${t.eventTyp}</p>
                            <p><strong>${t.name}</strong></p>
                            ${t.phone ? `<p>ðŸ“ž ${t.phone}</p>` : ''}
                            ${t.notes ? `<p style="margin-top:8px;font-size:0.9rem;opacity:0.9;">${t.notes}</p>` : ''}
                        </div>
                        <div class="termin-actions">
                            <button type="button" class="delete" onclick="deleteTermin('${t.id}')"><i class="fas fa-trash"></i> LÃ¶schen</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        document.getElementById('addTerminForm').addEventListener('submit', addTermin);
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function () {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentFilter = this.getAttribute('data-filter');
                renderTermine();
            });
        });

        renderTermine();
    </script>
</body>
</html>
